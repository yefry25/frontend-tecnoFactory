import{Q as f}from"./QImg.ce5e0444.js";import{a as w,Q as z}from"./QCard.9429c964.js";import{u as C}from"./use-quasar.1ad7bd9a.js";import{_ as Q,W as T,a as p,r as c,X as i,ae as r,ab as o,a3 as v,a4 as d,a5 as h,ap as q,aq as I,a1 as l,Z as m,a8 as N}from"./index.4f31f6cb.js";import{a as _}from"./axios.f1f32898.js";import{u as V}from"./store.1a27e23d.js";import"./use-dark.9a40565c.js";var B="/assets/14742.a0da781a.jpg";const O={class:"row justify-center",style:{height:"90vh"}},R={key:0,class:"col-12 flex flex-center"},$={class:"absolute-bottom text-subtitle2 text-center",style:{"background-color":"rgba(0,0,0,0.9)"}},j={key:2,class:"col-12"},D={class:"container"},L={class:"texto"},M={__name:"Favorito",setup(A){T.setSizes({sm:600,md:800,lg:1200,xl:2400});const e=C(),y=p(()=>e.screen.lt.md?{fontSize:"30px",margin:"0 0","line-height":"inherit"}:{fontSize:"48px","line-height":"inherit"}),x=p(()=>{if(e.screen.gt.sm)return{"font-size":"48px","line-height":"inherit"};if(e.screen.lt.md)return{"font-size":"32px","line-height":"inherit"}}),b=()=>{e.loading.show({message:"Doing something. Please wait...",spinnerColor:"primary"})},S=V(),F=c("."),n=c([]),s=c(!0);(()=>{b(),_.get(`https://backend-tecno.vercel.app/api/favorito/filtrarFav/${S.usuario._id}`).then(t=>{console.log(t.data),n.value=t.data,t.data.length==0&&(s.value=!1,e.loading.hide())}).catch(t=>{console.log(t),e.notify({color:"negative",message:"Recarge la p\xE1gina nuevamente para poder ver tus comic favoritos"}),e.loading.hide()})})();let u=c([]);const k=()=>{if(s!==!0)for(let t=0;t<n.value.length;t++){const g=n.value[t];_.get(`https://gateway.marvel.com:443/v1/public/comics/${g.comicFav}?ts=1&apikey=90a452174dd11c2a54995ab003a52734&hash=ab8a63fa3ba1ecf0d774d894288b0666`).then(a=>{console.log(a),u.value.push(a.data.data.results[0]),e.notify({icon:"done",color:"positive",message:"Tus comics favoritos"}),e.loading.hide()}).catch(a=>{console.log(a),e.notify({color:"negative",message:"Recarge la p\xE1gina nuevamente para poder ver tus comic favoritos"}),e.loading.hide()})}};return setTimeout(()=>{k()},2e3),(t,g)=>(i(),r("section",O,[s.value!=!1?(i(),r("article",R,[o("b",null,[o("h2",{class:"q-my-md",style:v(d(y))},"TUS COMICS FAVORITOS",4)])])):h("",!0),s.value!=!1?(i(!0),r(q,{key:1},I(d(u),a=>(i(),r("article",{key:a.id,class:"flex col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2"},[l(z,{style:{width:"100%",height:"95%"},class:"q-ma-md text-center"},{default:m(()=>[l(w,{style:{width:"100%",height:"100%"}},{default:m(()=>[l(f,{fit:"cover",style:{width:"100%",height:"100%"},src:a.thumbnail.path+F.value+a.thumbnail.extension},{default:m(()=>[o("div",$,N(a.title),1)]),_:2},1032,["src"])]),_:2},1024)]),_:2},1024)]))),128)):h("",!0),s.value!=!0?(i(),r("article",j,[o("article",D,[l(f,{style:{height:"90vh"},fit:"cover",alt:"Marvel favorito",src:B}),o("article",L,[o("h1",{style:v(d(x))},"No tienes comics agregados a favoritos",4)])])])):h("",!0)]))}};var J=Q(M,[["__scopeId","data-v-040cc6e6"]]);export{J as default};
