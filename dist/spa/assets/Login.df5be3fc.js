import{W as y,a as x,r as c,X as b,ae as Q,ab as a,a1 as s,Z as l,a3 as S,a4 as V,$ as k,af as q,ag as z,a6 as C,a2 as I}from"./index.7ccb5a9e.js";import{Q as P,a as d}from"./QCard.4bdcee3c.js";import{Q as p}from"./QInput.1d9eb8df.js";import{u as R}from"./use-quasar.c4ead8f4.js";import{u as B}from"./store.861e0c2e.js";import{a as D}from"./axios.f1f32898.js";import"./use-dark.1d60d832.js";var N="/assets/users.1f718555.png";const U={class:"row",style:{height:"90vh"}},$={class:"flex flex-center col-12"},L=a("img",{src:N,alt:"avatar"},null,-1),j=a("div",{class:"q-pt-xl"},[a("div",{class:"col text-h4 ellipsis flex justify-center"},[a("h2",{class:"text-h4 text-uppercase q-my-md text-weight-regular"},"inicio de sesi\xF3n")])],-1),A=["onSubmit"],E=a("article",null,[a("a",{href:"#/Registrar",style:{"text-decoration":"none"}},"No tienes cuenta? Registrate aqu\xED!!")],-1),J={__name:"Login",setup(M){const m=B(),t=R(),f=k();y.setSizes({sm:500,md:700,lg:1200,xl:2400});const g=x(()=>t.screen.lt.sm?{width:"90%"}:t.screen.lt.md?{width:"70%"}:t.screen.lt.lg?{width:"50%"}:t.screen.lt.xl?{width:"50%"}:t.screen.gt.lg?{width:"50%"}:{}),n=c(""),u=c(""),h=()=>{t.loading.show({message:"Doing something. Please wait...",spinnerColor:"primary"})},v=()=>{h(),D.post("https://backend-tecno.vercel.app/api/usuario/login",{email:n.value,password:u.value}).then(e=>{console.log(e.data.token),m.setUsuario(e.data.user),m.setToken(e.data.token),f.push("/Inicio"),t.notify({icon:"done",color:"positive",message:"Inicio de sesi\xF3n correcto"}),t.loading.hide()}).catch(e=>{console.log(e),t.notify({color:"negative",message:"Correo/Password incorrectos"}),t.loading.hide()})},_=[e=>e&&e.length>0||"Por favor escriba su correo"],w=[e=>e!==null&&e!==""||"Por favor escriba su contrase\xF1a",e=>e.length>7||"Debe tener 8 o mas d\xEDgitos "],r=c(!0);return(e,o)=>(b(),Q("section",U,[a("article",$,[s(P,{class:"text-center",style:S([{"border-radius":"5%"},V(g)])},{default:l(()=>[s(d,null,{default:l(()=>[s(q,{size:"100px",class:"absolute-center"},{default:l(()=>[L]),_:1})]),_:1}),s(d,null,{default:l(()=>[j]),_:1}),s(d,null,{default:l(()=>[a("form",{onSubmit:z(v,["prevent","stop"]),class:"q-ma-md"},[s(p,{type:"email",modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=i=>n.value=i),label:"Digite el correo *","lazy-rules":"",rules:_},null,8,["modelValue"]),s(p,{type:r.value?"password":"text",modelValue:u.value,"onUpdate:modelValue":o[2]||(o[2]=i=>u.value=i),label:"Digite la contrase\xF1a *","lazy-rules":"",rules:w},{append:l(()=>[s(C,{name:r.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:o[1]||(o[1]=i=>r.value=!r.value)},null,8,["name"])]),_:1},8,["type","modelValue"]),E,a("article",null,[s(I,{class:"full-width rounded q-mt-md",label:"Iniciar",type:"submit",color:"primary"})])],40,A)]),_:1})]),_:1},8,["style"])])]))}};export{J as default};
