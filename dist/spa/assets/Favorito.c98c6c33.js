import{Q as x}from"./QImg.a6f1d705.js";import{a as _,Q as y}from"./QCard.27e68065.js";import{u as b}from"./use-quasar.5f85de9c.js";import{W as S,r,X as i,ae as c,ab as o,a3 as w,a4 as u,aq as F,ar as C,a1 as l,Z as n,a8 as Q}from"./index.f9a23174.js";import{a as g}from"./axios.f1f32898.js";import{u as k}from"./store.2db991bc.js";import"./use-dark.22bd5673.js";const q={class:"row flex-center",style:{height:"90vh"}},z={class:"col-12 flex flex-center"},T={class:"absolute-bottom text-subtitle2 text-center texto"},A={__name:"Favorito",setup(B){S.setSizes({sm:400,md:800,lg:1200,xl:2400});const a=b(),m=()=>{a.loading.show({message:"Doing something. Please wait...",spinnerColor:"primary"})},p=k(),f=r("."),s=r([]);(()=>{m(),g.get(`https://backend-tecno.vercel.app/api/favorito/filtrarFav/${p.usuario._id}`).then(e=>{console.log(e),s.value=e.data}).catch(e=>{console.log(e),a.notify({color:"negative",message:"Recarge la p\xE1gina nuevamente para poder ver tus comic favoritos"}),a.loading.hide()})})();let d=r([]);const v=()=>{m();for(let e=0;e<s.value.length;e++){const h=s.value[e];g.get(`https://gateway.marvel.com:443/v1/public/comics/${h.comicFav}?ts=1&apikey=90a452174dd11c2a54995ab003a52734&hash=ab8a63fa3ba1ecf0d774d894288b0666`).then(t=>{console.log(t),d.value.push(t.data.data.results[0]),a.notify({icon:"done",color:"positive",message:"Tus comics favoritos"}),a.loading.hide()}).catch(t=>{console.log(t),a.notify({color:"negative",message:"Recarge la p\xE1gina nuevamente para poder ver tus comic favoritos"}),a.loading.hide()})}};return setTimeout(()=>{v()},2e3),(e,h)=>(i(),c("section",q,[o("article",z,[o("b",null,[o("h2",{class:"q-my-xl",style:w(u(a).screen.lt.md?{fontSize:"30px"}:{fontSize:"48px"})},"TUS COMICS FAVORITOS",4)])]),(i(!0),c(F,null,C(u(d),t=>(i(),c("article",{key:t.id,class:"flex flex-center content-center col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2"},[l(y,{style:{width:"100%",height:"95%"},class:"q-ma-md text-center card"},{default:n(()=>[l(_,{style:{width:"100%",height:"100%"}},{default:n(()=>[l(x,{fit:"cover",style:{width:"100%",height:"100%"},src:t.thumbnail.path+f.value+t.thumbnail.extension},{default:n(()=>[o("div",T,Q(t.title),1)]),_:2},1032,["src"])]),_:2},1024)]),_:2},1024)]))),128))]))}};export{A as default};
